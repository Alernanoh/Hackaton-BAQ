<div class="banner-causa">
  <img src="assets/ninos.jpg"  #imgCausa
    alt="Imagen de la causa" class="banner-img" style="width: 520px; height: 220px;" />

  <div class="info-causa">
    <h1>Tu donaciÃ³n alimenta esperanza.</h1>
    <p class="subtitulo">Una iniciativa de <strong>Banco de Alimentos Quito</strong></p>
    <p class="lema"><strong>Un puente entre la abundancia y la necesidad.</strong></p>

    <div class="barra-progreso" style="position: relative;">
      <div class="progreso"
           [class.animada]="donacionReciente > 0"
           [class.zoom]="donacionReciente > 0"
           [style.width.%]="(currentAmount / goalAmount) * 100"
           style="position: relative;">
        <span *ngIf="donacionReciente > 0"
              class="punto-barra"
              [style.left]="'calc(100% - 9px)'"></span>
      </div>
    </div>
    <div class="meta-recaudo">
      <span>
        <span [class.numero-animado]="donacionReciente > 0"
              [class.numero-animado-zoom]="donacionReciente > 0">
          ${{ currentAmount | number:'1.2-2' }}
        </span> recaudados
      </span>
      <span [class.numero-animado-zoom]="donacionReciente > 0">
        Meta: ${{ goalAmount | number:'1.2-2' }}
      </span>
    </div>

    <div class="tabs-modern" id="tabs-ayuda">
      
      <button class="tab-modern" [class.active]="seccionActiva === 'productos'" (click)="cambiarSeccion('productos')">
        Â¿Quieres donar Alimentos?
      </button>
      <button class="tab-modern" [class.active]="seccionActiva === 'proyecto'" (click)="cambiarSeccion('proyecto')">
        Â¿Quieres donar dinero?
      </button>
      <button class="tab-modern" [class.active]="seccionActiva === 'actualizaciones'" (click)="cambiarSeccion('actualizaciones')">
        Â¿Quieres ser voluntario?
      </button>
      <div class="tab-underline" [style.left.%]="seccionActiva === 'productos' ? 0 : seccionActiva === 'proyecto' ? 33.33 : 66.66"></div>
    </div>

    </div>
    </div>
    <div class="contenido-seccion mt-4">
      <div *ngIf="seccionActiva === 'productos'">

  <div class="grid">
    <!-- COLUMNA IZQUIERDA -->
    <div class="col">
      <app-productos-list [productos]="productos" (agregarProducto)="agregarAlCarrito($event)">
      </app-productos-list>

      <app-resumen-campana></app-resumen-campana>

    </div>

    <!-- COLUMNA DERECHA -->
    <div class="col">
      <app-donacion-carrito
  [carrito]="carrito"
  (quitarProducto)="quitarDelCarrito($event)"
  (donacionExitosa)="sumarDonacion($event)">
</app-donacion-carrito>

      <app-informativo></app-informativo>
    </div>
  </div>
      </div>


<div *ngIf="seccionActiva === 'proyecto'">
  <div class="main-container row g-4">

    <!-- Columna izquierda -->
    <div class="col-md-8">
      <app-form (donacionExitosa)="onDonacionExitosa($event)"></app-form>
    </div>

    <!-- Columna derecha -->
    <div class="col-md-4">
      <app-donante-infor
  [currentAmount]="currentAmount"
  [goalAmount]="goalAmount"
  [donacionReciente]="donacionReciente">
</app-donante-infor>
    </div>

  </div>
</div>

      <div *ngIf="seccionActiva === 'actualizaciones'" >
      <app-form-voluntario/>
      </div>
    </div>

    <!-- Modal de agradecimiento para donaciÃ³n directa -->
<div class="modal-pago" *ngIf="agradecimientoVisible">
  <div class="modal-pago-content" style="text-align:center; max-width:350px;">
    <div style="font-size:2.5rem; color:#43a047; margin-bottom:0.5rem;">ðŸŽ‰</div>
    <h2 style="color:#f7941d; margin-bottom:0.5rem;">Â¡Gracias por tu donaciÃ³n!</h2>
    <p style="margin-bottom:1.2rem;">
      Tu aporte de <strong>${{ donacionRecienteMonto | number:'1.2-2' }}</strong> ayudarÃ¡ a alimentar esperanza.<br>
      Â¡Juntos hacemos la diferencia!
    </p>
    <button class="btn-orange" (click)="cerrarAgradecimiento()">Aceptar</button>
  </div>
</div>
